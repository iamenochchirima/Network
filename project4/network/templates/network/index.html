{% extends "network/layout.html" %}
{% load static %}

{% block body %}
    {% for post in post %}
    <div class="post_item index_post">
        <strong><a href="{% url 'profile' post.author %}">{{post.author}}</a></strong>
        <div class="post-body" data-id="{{post.id}}">
           <div class="original">{{ post.body }}</div>
           <div class="post-edit">
            <form>
                <div class="mb-3">
                    <label class="form-label">Edit your post</label>
                    <textarea class="form-control" rows="3" required>{{ post.body }}</textarea>
                    <button type="submit" class="btn btn-primary" data-id="{{post.id}}" >Save</button>
                    <button type="submit" class="btn btn-primary cancel">Cancel</button>
                  </div>
            </form>
           </div>
           <div class="time">At: {{ post.date }}</div>
        </div>
        <br>
        {% if request.user == post.author %}
        <button type="button" data-id="{{post.id}}" class="btn btn-outline-primary edit-btn">Edit</button>
        {% endif %}
        <hr>
    </div>
    
    {% endfor %}

    <center>
        <hr><br>
        {% if post.has_previous %}
        <a id="first" href="?page=1">&laquo First</a>
        <a id="priv" href="?page={{ post.previous_page_number }}">Previous</a>
        {% endif %}
        Page {{ post.number }} of {{ post.paginator.num_pages }}
        {% if post.has_next %}
        <a id="next" href="?page={{ post.next_page_number }}">Next</a>
        <a id="last" href="?page={{ post.paginator.num_pages }}">Last &raquo</a>
        {% endif %}
        <br>
        <br>
    </center>

{% endblock %}
{% block script %}
    <script src="{% static 'network/main.js' %}"></script>
{% endblock %}